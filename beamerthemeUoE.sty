\ProvidesPackage{UoE}[2018/04/26]
\NeedsTeXFormat{LaTeX2e}[1995/12/01]

% Latest version available at
% https://github.com/mthulin/UoE-beamer

% Defitition of some constants and colors
\newdimen\beamer@sidebarwidth
\beamer@sidebarwidth=2.5cm

\definecolor{uoeyellow}{RGB}{240, 171, 0}
\definecolor{uoedarkblue}{cmyk}{1,0.21,0,0.58}
\definecolor{uoeblue}{RGB}{31, 74, 109}

% The next two commands define the used letters in sectioning in the sidebar;
% they need to be math symbols, i.e. that they can stand in a $...$ environment;
% for example: -, \cdot, \bullet, \ast, ...
\newcommand{\sectionItemLetter}{\bullet}
\newcommand{\subSectionItemLetter}{-}

% General layout
\beamersetleftmargin{0.5cm}
\beamersetrightmargin{0.5cm}

\setbeamertemplate{navigation symbols}{}
\useheadtemplate{}
\usefoottemplate{}

\setbeamercolor{itemize item}{fg=uoeyellow}
\setbeamercolor{enumerate item}{fg=uoeyellow}

\setbeamercolor{itemize subitem}{fg=uoeyellow}
\setbeamercolor{enumerate subitem}{fg=uoeyellow}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{calc}

\newsavebox{\indentBox}

% Side bar background
\useleftsidebarcolortemplate{\color{uoeblue}}

\pgfdeclareimage[width=0.8\beamer@sidebarwidth]{UoE-logo}{uoe-logo-inv.png}
\pgfdeclareimage[width=\beamer@sidebarwidth]{UoE-logo2}{sidebarlogo.png}
\useleftsidebartemplate{\beamer@sidebarwidth}{
\vspace{1em}
\hspace{0.075\beamer@sidebarwidth}
\pgfuseimage{UoE-logo}
	
	
	\vskip 1em
	\hspace{2pt}
	\parbox{\beamer@sidebarwidth-0.4cm}{
		\small \color{black} \hyperlinkpresentationstart{\beamer@shorttitle}
	}
	\vskip 1.5em
	\insertverticalnavigation{\beamer@sidebarwidth}
	\vspace{10pt}
\vfill
	\pgfuseimage{UoE-logo2}
	
}

% Section entrys of sidebar (active/passive)
\usesectionsidetemplate{
	\parbox{\beamer@sidebarwidth-0.1cm}{\raggedright
		\vspace{3pt}
		\color{uoeyellow} \fontsize{6}{7} \selectfont
		\sbox{\indentBox}{~$\sectionItemLetter$~}
		\settowidth{\hangindent}{\usebox{\indentBox}}
		\usebox{\indentBox}\insertsectionhead
		\vspace{3pt}
	}
}{
	\parbox{\beamer@sidebarwidth-0.1cm}{\raggedright
		\vspace{3pt}
		\color{white} \fontsize{6}{7} \selectfont 
		\sbox{\indentBox}{~$\sectionItemLetter$~}
		\settowidth{\hangindent}{\usebox{\indentBox}}
		\usebox{\indentBox}\insertsectionhead
		\vspace{3pt}
	}
}

% Subsection entrys of sidebar (active/passive)
\usesubsectionsidetemplate{
	\parbox{\beamer@sidebarwidth-0.1cm}{\raggedright
		\color{uoeyellow} 
		\sbox{\indentBox}{\fontsize{6}{7} \selectfont ~$\phantom{\sectionItemLetter}$~\fontsize{4}{5} \selectfont $\subSectionItemLetter$~~}
		\settowidth{\hangindent}{\usebox{\indentBox}}
		\usebox{\indentBox}\insertsubsectionhead
		\vspace{3pt}
	}
}{
	\parbox{\beamer@sidebarwidth-0.1cm}{\raggedright
		\color{white} 
		\sbox{\indentBox}{\fontsize{6}{7} \selectfont ~$\phantom{\sectionItemLetter}$~\fontsize{4}{5} \selectfont $\subSectionItemLetter$~~}
		\settowidth{\hangindent}{\usebox{\indentBox}}
		\usebox{\indentBox}\insertsubsectionhead
		\vspace{3pt}
	}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Titlepage
\usetitlepagetemplate{
	\begin{center}
		\color{uoedarkblue} 
		\Large \inserttitle \par 
		\normalsize \insertsubtitle \par \vspace{0.5cm}
		\insertauthor \par \vspace{0.3cm}
		\insertinstitute \par \vspace{0.3cm}
		\insertdate \par \vspace{0.3cm}
	\end{center}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Frametitles
\useframetitletemplate{
    \color{uoedarkblue} \Large \insertframetitle $\phantom{g}$ \par \vspace{2pt} \hrule
}

